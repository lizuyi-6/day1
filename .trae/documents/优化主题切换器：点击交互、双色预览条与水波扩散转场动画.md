# 优化主题切换交互与视觉效果

根据您的反馈，我将对主题切换器进行深度优化，解决悬浮消失问题，增强预览直观性，并实现炫酷的水波扩散转场动画。

## 1. 交互优化：点击触发代替悬浮
*   **问题**：当前使用 CSS `:hover` 触发，导致鼠标移开即消失，操作困难。
*   **方案**：改为**点击触发**（Click-to-Toggle）。点击图标打开菜单，再次点击或点击外部区域关闭。这提供了稳定的操作体验。

## 2. 视觉优化：双色预览条
*   **问题**：仅文字无法直观展示配色。
*   **方案**：重构菜单项样式。
    *   移除文字背景，改用**双色拼接背景**。
    *   左半部分展示该主题的 `Background Color`（主背景色）。
    *   右半部分展示该主题的 `Primary Color`（主色/强调色）。
    *   保留文字标签，叠加在双色背景之上（需注意文字对比度，或添加半透明遮罩/描边）。或者，更优雅的方式是：**左侧 20% 显示主色条，右侧 80% 显示背景色条**，文字放在背景色条上。

## 3. 动画效果：圆形水波扩散 (Ripple Transition)
*   **技术实现**：使用 View Transitions API（如果浏览器支持）或自定义 CSS 动画。考虑到兼容性和效果可控性，我将使用**自定义 CSS 遮罩动画**。
*   **逻辑**：
    1.  用户点击主题项。
    2.  获取点击位置坐标（鼠标位置）。
    3.  创建一个临时的 `div` 层，覆盖全屏，层级最高。
    4.  该层使用**新主题**的 CSS 变量进行渲染。
    5.  利用 `clip-path: circle(0% at x y)` 到 `clip-path: circle(150% at x y)` 的动画，从点击处向外扩散显示新主题层。
    6.  动画结束后，更新底层（真实 DOM）的 CSS 变量，并移除临时层。

## 实施计划

1.  **修改 `ThemeSwitcher.vue`**:
    *   引入 `ref` 控制菜单显隐 (`isOpen`)。
    *   添加 `v-on-click-outside` 逻辑（或简单的全屏透明遮罩）来处理点击关闭。
    *   重构菜单项 HTML/CSS，实现双色预览效果。
    *   实现 `applyThemeWithRipple` 函数，封装水波扩散逻辑。

2.  **调整 CSS**:
    *   确保 `clip-path` 动画流畅。
    *   优化菜单项的双色布局样式。

3.  **验证**:
    *   测试点击交互是否稳定。
    *   验证水波动画是否从左下角顺滑扩散。
    *   确认双色条是否能准确反映主题配色。

这个方案将显著提升切换体验，既实用又具有极佳的视觉冲击力。
