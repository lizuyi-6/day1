## 工作流版本控制器

### 功能设计

为工作流添加版本控制功能，允许用户保存版本并恢复到之前的版本。

### 后端实现

**1. 创建 WorkflowVersion 实体**
```typescript
// backend/src/workflow/entities/workflow-version.entity.ts
- id: UUID (主键)
- workflowId: UUID (外键关联 Workflow)
- versionNumber: number (版本号，自增)
- graphData: object (保存节点和边数据)
- comment: string (可选，版本备注)
- createdAt: Date (创建时间)
- workflow: ManyToOne 关系
```

**2. 修改 WorkflowService**
- 在 `update` 方法中，更新前自动创建版本快照
- 添加 `getVersions(workflowId)` 方法获取版本列表
- 添加 `restoreVersion(workflowId, versionId)` 方法恢复版本

**3. 添加 Controller 路由**
- `GET /workflow/:id/versions` - 获取版本列表
- `POST /workflow/:id/versions/:versionId/restore` - 恢复版本

**4. 修改 WorkflowModule**
- 注册 WorkflowVersion 实体

### 前端实现

**1. 创建 VersionHistoryDialog 组件**
- 显示版本列表
- 每个版本显示：版本号、时间、节点/边数量、备注
- 提供还原按钮和确认对话框
- 支持添加版本备注

**2. 修改 WorkflowView**
- 在工具栏添加"版本历史"按钮
- 点击打开 VersionHistoryDialog
- 处理版本还原后的刷新逻辑

**3. 修改 workflowService**
- 添加 `fetchVersions(workflowId)` 方法
- 添加 `restoreVersion(workflowId, versionId)` 方法

### 修改文件列表

后端：
- `backend/src/workflow/entities/workflow-version.entity.ts` (新建)
- `backend/src/workflow/workflow.service.ts` (修改)
- `backend/src/workflow/workflow.controller.ts` (修改)
- `backend/src/workflow/workflow.module.ts` (修改)

前端：
- `frontend/src/components/workflow/VersionHistoryDialog.vue` (新建)
- `frontend/src/views/WorkflowView.vue` (修改)
- `frontend/src/services/workflowService.ts` (修改)
