# 🚀 工作流案例快速开始指南

## 📍 查看位置

访问工作流页面：http://localhost:5175/workflow

你会看到：
1. **顶部**：可折叠的"案例演示"面板
2. **中间**：完整的智能客服工作流画布
3. **侧边栏**：组件/变量/模型/插件管理
4. **底部**：调试控制台（调试模式下）

---

## 🎯 智能客服工作流说明

这是一个**完整的客服自动化系统**，包含 9 个节点：

### 📊 工作流结构

```
用户消息
  ↓
意图识别 (LLM分类：退货/投诉/咨询/售后)
  ↓
┌─────────────┬──────────────┐
│             │              │
查询知识库   查询订单状态     │
│             │              │
└─────────────┴──────────────┘
  ↓
判断订单状态 (条件分支)
  ↓
┌───────┬──────────┐
│是     │ 否       │
处理退款  生成回复
│       │
└───────┴──────────┘
  ↓
生成回复
  ↓
延迟1秒
  ↓
返回结果
```

### 🔧 节点详情

| 节点 | 功能 | 示例数据 |
|------|------|----------|
| **用户消息** | 接收用户输入 | "你好，我想退货" |
| **意图识别** | LLM分类用户意图 | 识别为"退货" |
| **查询知识库** | 搜索退货政策 | 返回3条相关知识 |
| **查询订单** | HTTP请求查询订单 | 订单状态：已完成 |
| **判断订单** | 条件分支 | 已完成 → 处理退款 |
| **处理退款** | Python计算退款 | 退款金额299元 |
| **生成回复** | LLM生成客服回复 | 友好的退货指引 |
| **延迟1秒** | 模拟API延迟 | - |
| **返回结果** | 输出最终回复 | 工单号 + 回复 |

---

## ✨ 如何测试案例

### 方法 1：使用演示面板（推荐）

1. **打开演示面板**
   - 进入工作流页面
   - 确保顶部"案例演示"面板已展开
   - 如未展开，点击"显示案例演示"按钮

2. **输入测试消息**
   - 在输入框中输入：`你好，我想退货`
   - 或尝试其他输入：
     - `我的订单什么时候发货？`
     - `你们的产品有质量问题怎么办？`
     - `我想查询订单状态`

3. **点击"运行工作流"**
   - 点击右侧蓝色按钮
   - 观察执行步骤动画
   - 查看实时日志输出
   - 等待最终结果

4. **查看执行结果**
   - 每个步骤会显示执行状态
   - 绿色 ✓ = 已完成
   - 蓝色 = 正在运行
   - 灰色 = 等待执行
   - 最后生成工单号和回复消息

5. **重置测试**
   - 点击"重置"按钮
   - 输入新的测试消息
   - 再次运行

---

### 方法 2：使用调试模式

1. **启用调试模式**
   - 点击顶部"调试"按钮（虫子图标）
   - 底部会出现调试控制台

2. **点击节点执行**
   - 直接点击画布上的任意节点
   - 观察调试日志
   - 查看节点输出

3. **查看日志详情**
   - 调试控制台显示每步执行：
     - 时间戳
     - 节点名称
     - 执行消息
     - 输出数据

4. **停止调试**
   - 再次点击"调试"按钮
   - 或点击调试面板的"停止"按钮

---

### 方法 3：完整部署测试

1. **验证工作流**
   - 点击"部署工作流"下拉菜单
   - 选择"部署到生产"或"部署到测试"
   - 等待验证完成

2. **查看部署结果**
   - 成功：显示 API 端点
   - 失败：显示错误原因

3. **发布为 API**
   - 点击"发布 API"按钮
   - 查看自动生成的 API 文档
   - 复制端点地址

---

## 🎨 动画效果体验

### 节点动画
- **悬停**：节点提升 + 发光
- **选中**：脉冲动画 + 蓝色边框
- **连接**：虚线动画流动
- **执行**：节点依次高亮

### 流程动画
- **进度条**：从左到右填充
- **步骤点**：从灰色 → 蓝色 → 绿色
- **日志卡片**：滑入动画 + 阴影
- **结果面板**：缩放进入 + 渐变背景

### 交互动画
- **按钮**：波纹点击效果
- **输入框**：聚焦光环
- **卡片**：悬停提升
- **开关**：滑动动画

---

## 💡 测试建议

### 基础测试
✅ 默认输入：`你好，我想退货`
✅ 查询类：`我的订单在哪？`
✅ 投诉类：`产品有质量问题`
✅ 咨询类：`你们的工作时间？`

### 高级测试
✅ 调试模式下单步执行
✅ 修改节点参数重新运行
✅ 测试不同分支条件
✅ 检查工作流验证

### 边缘测试
✅ 空输入
✅ 超长输入
✅ 特殊字符
✅ 并发执行

---

## 🔍 观察重点

### 节点连接
- 9个节点通过10条边连接
- 绿色边 = 条件为真
- 红色边 = 条件为假
- 虚线动画 = 数据流动

### 数据流
1. 用户输入 → 意图识别
2. 根据意图 → 查询知识库/订单
3. 条件判断 → 处理退款/生成回复
4. 最终输出 → 返回用户

### 执行时间
- 总共约 4.8 秒（6步骤 × 0.8秒）
- 每个节点约 800ms
- 模拟真实API调用

---

## 🎊 预期结果

### 成功执行后你会看到：

1. **进度条**：7个步骤全部完成
2. **日志**：6条执行日志
3. **结果**：
   ```
   ✨ 工作流执行成功！

   您好，关于您的退货申请，根据我们的政策，
   7天内可以无理由退货。由于您的订单还在处理中，
   退货流程会比较简单。请保持商品包装完整，
   我们将为您安排上门取件。

   工单号: TKT1735901234567
   执行时间: 4.80s
   ```

---

## 🚨 故障排除

### 演示面板不显示
- 检查是否点击了"隐藏案例演示"
- 点击"显示案例演示"按钮展开

### 运行按钮不响应
- 确保输入框有内容
- 等待前一次运行完成

### 节点无法执行
- 启用调试模式
- 点击节点查看错误日志

### 动画卡顿
- 刷新页面
- 检查浏览器性能

---

## 📚 相关功能

- **自定义模型**：切换到"模型"标签添加 LLM
- **变量管理**：切换到"变量"标签配置参数
- **插件系统**：切换到"插件"标签启用扩展
- **API 发布**：点击顶部"发布 API"生成文档

---

现在就开始测试吧！访问 http://localhost:5175/workflow 🚀
